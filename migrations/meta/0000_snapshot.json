{
  "id": "00000000-0000-0000-0000-000000000000",
  "prevId": "",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.audit_logs": {
      "name": "audit_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "actor_id": {
          "name": "actor_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity": {
          "name": "entity",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "meta": {
          "name": "meta",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "audit_logs_actor_idx": {
          "name": "audit_logs_actor_idx",
          "columns": [
            {
              "expression": "actor_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_created_at_idx": {
          "name": "audit_logs_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamp_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "audit_logs_entity_idx": {
          "name": "audit_logs_entity_idx",
          "columns": [
            {
              "expression": "entity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.comments": {
      "name": "comments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "fiche_id": {
          "name": "fiche_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "author_id": {
          "name": "author_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "comments_fiche_idx": {
          "name": "comments_fiche_idx",
          "columns": [
            {
              "expression": "fiche_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.epcis": {
      "name": "epcis",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "epcis_name_idx": {
          "name": "epcis_name_idx",
          "columns": [
            {
              "expression": "name",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "epcis_name_unique": {
          "columns": [
            "name"
          ],
          "nullsNotDistinct": false,
          "name": "epcis_name_unique"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.fiche_navettes": {
      "name": "fiche_navettes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "ref": {
          "name": "ref",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "state": {
          "name": "state",
          "type": "fiche_state",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'DRAFT'"
        },
        "emitter_id": {
          "name": "emitter_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "assigned_org_id": {
          "name": "assigned_org_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "referent_data": {
          "name": "referent_data",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "family_detailed_data": {
          "name": "family_detailed_data",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "children_data": {
          "name": "children_data",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "workshop_propositions": {
          "name": "workshop_propositions",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "family_consent": {
          "name": "family_consent",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "contract_signed": {
          "name": "contract_signed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "advance_payment_sent": {
          "name": "advance_payment_sent",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "contract_verified_by": {
          "name": "contract_verified_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "contract_verified_at": {
          "name": "contract_verified_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "activity_completed": {
          "name": "activity_completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "activity_completed_by": {
          "name": "activity_completed_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "activity_completed_at": {
          "name": "activity_completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "field_check_completed": {
          "name": "field_check_completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "field_check_completed_by": {
          "name": "field_check_completed_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "field_check_completed_at": {
          "name": "field_check_completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "final_report_sent": {
          "name": "final_report_sent",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "remaining_payment_sent": {
          "name": "remaining_payment_sent",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "final_verification_by": {
          "name": "final_verification_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "final_verification_at": {
          "name": "final_verification_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "total_amount": {
          "name": "total_amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "fiche_navettes_assigned_org_idx": {
          "name": "fiche_navettes_assigned_org_idx",
          "columns": [
            {
              "expression": "assigned_org_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "fiche_navettes_emitter_idx": {
          "name": "fiche_navettes_emitter_idx",
          "columns": [
            {
              "expression": "emitter_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "fiche_navettes_ref_idx": {
          "name": "fiche_navettes_ref_idx",
          "columns": [
            {
              "expression": "ref",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "fiche_navettes_state_idx": {
          "name": "fiche_navettes_state_idx",
          "columns": [
            {
              "expression": "state",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "fiche_navettes_ref_unique": {
          "columns": [
            "ref"
          ],
          "nullsNotDistinct": false,
          "name": "fiche_navettes_ref_unique"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.organizations": {
      "name": "organizations",
      "schema": "",
      "columns": {
        "org_id": {
          "name": "org_id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "contact": {
          "name": "contact",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "contact_name": {
          "name": "contact_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "contact_email": {
          "name": "contact_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "contact_phone": {
          "name": "contact_phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "epci": {
          "name": "epci",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "epci_id": {
          "name": "epci_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "organizations_epci_idx": {
          "name": "organizations_epci_idx",
          "columns": [
            {
              "expression": "epci_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "password_hash": {
          "name": "password_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "first_name": {
          "name": "first_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "last_name": {
          "name": "last_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "structure": {
          "name": "structure",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "org_id": {
          "name": "org_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "users_email_idx": {
          "name": "users_email_idx",
          "columns": [
            {
              "expression": "email",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "users_role_idx": {
          "name": "users_role_idx",
          "columns": [
            {
              "expression": "role",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_unique": {
          "columns": [
            "email"
          ],
          "nullsNotDistinct": false,
          "name": "users_email_unique"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.workshop_objectives": {
      "name": "workshop_objectives",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "order": {
          "name": "order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "workshop_objectives_code_unique": {
          "columns": [
            "code"
          ],
          "nullsNotDistinct": false,
          "name": "workshop_objectives_code_unique"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.workshops": {
      "name": "workshops",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true
        },
        "objective_id": {
          "name": "objective_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "workshops_objective_idx": {
          "name": "workshops_objective_idx",
          "columns": [
            {
              "expression": "objective_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.fiche_state": {
      "name": "fiche_state",
      "values": [
        "DRAFT",
        "SUBMITTED_TO_CD",
        "SUBMITTED_TO_FEVES",
        "ASSIGNED_EVS",
        "ACCEPTED_EVS",
        "EVS_REJECTED",
        "NEEDS_INFO",
        "CONTRACT_SIGNED",
        "ACTIVITY_DONE",
        "FIELD_CHECK_SCHEDULED",
        "FIELD_CHECK_DONE",
        "CLOSED",
        "ARCHIVED"
      ],
      "schema": "public"
    },
    "public.org_type": {
      "name": "org_type",
      "values": [
        "EVS",
        "CS",
        "OTHER"
      ],
      "schema": "public"
    },
    "public.role": {
      "name": "role",
      "values": [
        "ADMIN",
        "SUIVI_PROJETS",
        "EMETTEUR",
        "RELATIONS_EVS",
        "EVS_CS",
        "CD"
      ],
      "schema": "public"
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "tables": {}
  }
}