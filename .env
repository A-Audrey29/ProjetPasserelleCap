# Base de données PostgreSQL
# Format: postgresql://username:password@localhost:port/database_name
DATABASE_URL="postgresql://passerelle_user:passerelle_pass@localhost:5432/passerelle_cap"

# Clé secrète pour JWT (IMPORTANT: Changer en production!)
# Générer une clé forte avec: openssl rand -base64 32
JWT_SECRET="your-super-secret-jwt-key-change-in-production-with-strong-random-key"

# Environnement d'exécution
NODE_ENV="development"

# Port du serveur (5000 par défaut pour Replit)
PORT=3000

# Hôte du serveur (0.0.0.0 pour Replit)
HOST="0.0.0.0"

# Configuration base de données (séparée pour facilité)
PGHOST="localhost"
PGPORT="5432"
PGDATABASE="passerelle_cap"
PGUSER="passerelle_user"
PGPASSWORD="passerelle_pass"

# Configuration session cookies
COOKIE_SECRET="another-super-secret-for-cookies-change-in-production"

# Configuration upload fichiers
UPLOAD_MAX_SIZE="10485760"  # 10MB en bytes
UPLOAD_ALLOWED_TYPES="application/pdf,image/jpeg,image/png,image/jpg"

# Configuration email (optionnel, pour notifications futures)
# SMTP_HOST="smtp.example.com"
# SMTP_PORT="587"
# SMTP_USER="noreply@passerelle.cap"
# SMTP_PASS="email_password"
# SMTP_FROM="Passerelle CAP <noreply@passerelle.cap>"

# Configuration pour les domaines Replit (automatique)
# REPLIT_DOMAINS sera défini automatiquement en développement

# Niveau de log
LOG_LEVEL="info"

# Configuration de sécurité
BCRYPT_ROUNDS="12"
JWT_EXPIRES_IN="24h"
COOKIE_MAX_AGE="86400000"  # 24h en millisecondes

# Configuration CORS (domaines autorisés)
CORS_ORIGIN="http://localhost:5000,http://localhost:5173"

# Mode debug pour développement
DEBUG="false"

# Configuration rate limiting
RATE_LIMIT_WINDOW="900000"  # 15 minutes
RATE_LIMIT_MAX="100"        # 100 requêtes par fenêtre

# Répertoire de stockage des uploads
UPLOADS_DIR="uploads"

# Configuration base de données pour tests (optionnel)
# TEST_DATABASE_URL="postgresql://test_user:test_pass@localhost:5432/passerelle_cap_test"

# Configuration Sentry pour monitoring (optionnel)
# SENTRY_DSN="https://your-sentry-dsn.ingest.sentry.io/project-id"

# Configuration Redis pour cache (optionnel, pour scaling futur)
# REDIS_URL="redis://localhost:6379"

# Variables pour Docker Compose
POSTGRES_DB="passerelle_cap"
POSTGRES_USER="passerelle_user"
POSTGRES_PASSWORD="passerelle_pass"
